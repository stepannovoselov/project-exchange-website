{% extends 'base_template.html' %}

{% block title %}Проекты @{{ user.username }}{% endblock %}

{% block content %}
<div class="container mt-2">
    <div class="row justify-content-center">
        <div class="h2">
            {{ user.surname }} {{ user.name }}
        </div>
        <ul class="col nav nav-tabs mt-4">
            <li class="nav-item">
                <a class="nav-link" aria-current="page" href="/account/@{{ user.username }}">Профиль</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="#">Проекты</a>
            </li>
        </ul>
        <div class="card rounded-0 py-2" style="border-top: none;">
            <div class="row">
                {% if projects|length == 0 %}
                    <svg class="mt-4" fill="#565656" width="150px" height="150px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="m15.66 7-.91-2.68L8.62.85a1.28 1.28 0 0 0-1.24 0L1.25 4.32.34 7a1.24 1.24 0 0 0 .58 1.5l.33.18V11a1.25 1.25 0 0 0 .63 1l5.5 3.11a1.28 1.28 0 0 0 1.24 0l5.5-3.11a1.25 1.25 0 0 0 .63-1V8.68l.33-.18a1.24 1.24 0 0 0 .58-1.5zM10 9.87l-.48-1.28L14 6.13l.44 1.28zM8 1.94 13.46 5 8 8 2.54 5zM1.52 7.41 2 6.13l4.48 2.46L6 9.87zm1 1.95 4.25 2.32.62-1.84v3.87L2.5 11zM13.5 11l-4.88 2.71V9.84l.63 1.84 4.25-2.32z"/></svg>
                    <p class="text-center text-muted mt-2">{{ user.surname }} {{ user.name }} ещё не создал ни один проект.</p>    
                {% else %}
                    {% for project in projects %}
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <div class="card">
                                    <div class="card-body">
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item">
                                                Название: {{ project.name }}
                                            </li>
                                            <li class="list-group-item">
                                                Тема: {{ project.theme }}
                                            </li>
                                            <li class="list-group-item">
                                                Цель: {{ project.goal }}
                                            </li>
                                            <li class="list-group-item">
                                                Описание: {{ project.goal }}
                                            </li>
                                            <li class="list-group-item">
                                                Рейтинг: {{ project.rank }}
                                            </li>
                                            <li class="list-group-item">
                                                Дата и время создания: {{ project.public_date.strftime("%Y-%m-%d %H:%M:%S") }}
                                            </li>
                                            <li class="list-group-item mt-4">
                                                <a class="btn btn-sm btn-primary" href="/projects/{{ project.id }}">
                                                    Открыть
                                                </a>
                                                <a class="btn btn-sm btn-outline-danger" href="">
                                                    Удалить
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    {% endfor %}
                {% endif %}
            </div>
            {% if current_user.id == user.id %}
            <a href="/project/create" class="btn btn-sm btn-primary mt-4">
                Создать проект
            </a>
            {% endif %}
        </div>
    </div>
    </div>
</div>

{% endblock %}